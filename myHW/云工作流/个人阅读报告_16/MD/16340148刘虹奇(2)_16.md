## 论文题目

Workflow Execution Plan Generation in the Cloud Computing Environment Based on an Improved List Scheduling Algorithm

---

## 论文作者

Xiaoying Wang ; Chengshui Niu ; Yu-An Zhang ; Lei Zhang

---

## 发表期刊信息

*2017 International Conference on Computing Intelligence and Information System (CIIS)*, Nanjing, 2017, pp. 231-235.

---

## 技术问题

在云计算环境中，客户可以租用需要的资源。但是，更改资源分配方案将涉及实例的创建和数据移动，这会产生成本，并可能影响工作流的执行效率和总成本。因此，为用户和服务提供商设计合理的工作流执行计划非常重要。换句话说，生成计划意味着将工作流中的任务适当地映射到计算资源上。

---

## 现实背景



科学工作流是近年来迅速发展起来的一种新型应用。它可以支持科学家和研究人员集成、构建和合作各种分布式数据服务和软件工具，为科学计算的复杂工作流定义和执行自动化提供管理平台。因为数据是连续快速生成的，相关的计算也因此变得复杂。正常的计算环境很难满足SWF的要求。因此，云计算环境为科学应用提供了一种新的部署和执行范例，因为它的基础设施通常由高性能计算资源和大量存储资源组成。



---

## 作者思路

作者发现在云计算环境中，更改资源分配方案将涉及实例的创建和数据移动，这会产生成本，并可能影响工作流的执行效率和总成本。所以为用户和服务提供商设计合理的工作流执行计划非常重要。之后作者总结了以前关于在工作流执行计划中将任务调度到适当的计算资源上的算法，包括聚类、任务复制、列表调度和基于遗传算法的遗传算法。之后作者介绍了一种改进的工作流执行计划生成策略epgils。以及执行前计划生成的必须的两个部分：确定任务的优先级和任务预调度。并对算法进行了详细的解释与分析。最后通过实验测试算法在多方面的效率。

---

## 解决方案

### 构建模型

生成工作流执行计划的目的是合理地将任务分配到处理器上，因此关键点是首先确定所需处理器的数量。本文提出的epgils策略旨在减少任务的最大化，提高虚拟机的利用率。我们将列表调度算法和任务复制方法结合起来，应用到一个同质的云环境中，会有无限多的虚拟机。epgils战略分为两个阶段，如下所示：

- 生成待调度任务的路径优先级列表； 
- 根据上面的列表获取调度任务，并将任务分配到处理器上，在我们的算法中称为任务预调度。

**确定要计划的任务的优先级**

所有路径的跨度值将按降序排序，跨度值最大的路径是工作流中的关键路径。

![image1.png](https://upload-images.jianshu.io/upload_images/18378077-967eef0dbb4cd2d7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

**任务预调度**

通过任务预调度，确定从任务到处理器的映射方案，并计算所需处理器的数量。按优先级降序检查路径，然后逐个安排当前路径中的任务。计划任务的选择应满足以下两个要求：

- 任务尚未安排。

- 该任务没有以前的任务，或者以前的所有任务都已计划。

### 算法摘要

**epgils算法**

- 首先遍历 DAG 中的所有可能路径；
- 计算出各路径的跨度值；
- 生成一个路径的调度列表，路径的调度列表是通过按降序排序跨度值生成的；
- 检查和处理列表中的下一个路径 PX；
- 在 PX 中查找未计划的任务ti。如果找不到任务，继续检查和处理列表中的下一个路径 PX；
- 如果ti没有以前的节点，如果ti的所有以前的节点都已调度，继续检查和处理列表中的下一个路径 PX；
- 计算ti以前的节点数，表示为n：
  - 如果n=0，ti是开始节点，并将映射到新的处理器上；
  - 如果n=1，将ti映射到与前一个节点相同的处理器上；
  - 如果n>1，则通过按到达ti的时间降序对前一个节点进行排序，生成前一个任务队列；
- 将最新的前一个任务与ti放在同一个处理器上，然后更新ti的完成时间，计算处理器的空闲时间；
- 遍历上一个任务队列。如果找到符合插入条件的任务，则将其插入处理器空白插槽，并更新任务的完成时间；否则重新在 PX 中查找未计划的任务ti；
- 如果已经检查了列表中的所有路径，则结束算法。

## 创新贡献

- 任务预处理阶段根据任务的优先级，选择合理的父任务进行复制，可以减少任务与任务之间的开销。

- epgils算法的动机是有效地利用处理器的空闲时间，从而减少任务执行中所需的处理器数量，从减少任务完成时间、提高处理器利用率。

- 通过epgils算法，结合列表调度和任务复制的优点，在同构云基础设施上生成科学工作流任务的执行计划。

## 效果评价

![image5.png](https://upload-images.jianshu.io/upload_images/18378077-bc0fae0f0ed9d838.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![image3.png](https://upload-images.jianshu.io/upload_images/18378077-f176fedb70935ac5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![image4.png](https://upload-images.jianshu.io/upload_images/18378077-c0823ad96e542c3d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

从以上结果可以明显看出，考虑到生成时间、使用的处理器数量和处理器利用率这三个方面，epgils比其他两种算法的性能要好得多。

## 个人感想

### 本文的优势

本文针对多个同构处理器的云环境下的科学工作流执行问题，提出了一种改进的算法，以更有效地生成工作流执行计划。epgils算法将列表调度和任务复制调度算法结合在一起，从而减少了任务之间的通信开销。同时，也会缩短整个工作流的制作时间。在算法循环中，父任务被合理地插入到处理器的空白时隙中，在某些准则下可以提高处理器的利用率，减少占用的处理器，还可以节省在工作流上花费的费用。

### 本文的劣势

文章可以实现说明在负载平衡、节能和热点回避等多种问题上继续对算法进行改进，还可以通过比较明确在不同情况下的算法的效率比，以便找出最优算法。即对算法进行和扩展，以适应更多的情况和目标。